# =============================================================================
# Mobius shared env — canonical template for all modules
# =============================================================================
# Copy to .env and fill in values. Never commit .env.
# Use inject_env.sh to copy into a module, or run_with_shared_env.sh to run
# a module with this env.
# =============================================================================

# -----------------------------------------------------------------------------
# GCP (shared by Chat, RAG, dbt) — put key in mobius-config/credentials/
# -----------------------------------------------------------------------------
# Copy your GCP service account JSON into mobius-config/credentials/ as
# mobiusos-new-090a058b63d9.json (or any *.json). Leave GOOGLE_APPLICATION_CREDENTIALS
# unset to auto-use first *.json in mobius-config/credentials/ or module credentials/.
# GOOGLE_APPLICATION_CREDENTIALS=credentials/mobiusos-new-090a058b63d9.json
VERTEX_PROJECT_ID=mobiusos-new
VERTEX_LOCATION=us-central1
VERTEX_MODEL=gemini-2.5-flash

# -----------------------------------------------------------------------------
# mobius-chat (CHAT_RAG_DATABASE_URL must match dbt CHAT_DATABASE_URL)
# -----------------------------------------------------------------------------
# QUEUE_TYPE=memory
# REDIS_URL=redis://localhost:6379/0
# Same DB as dbt CHAT_DATABASE_URL (published_rag_metadata)
CHAT_RAG_DATABASE_URL=postgresql://postgres:MobiusOS123$@34.59.175.121:5432/mobius_chat
# Endpoint: Vertex AI → Vector Search → Index Endpoints → copy resource name or numeric id.
# Deployed index ID: same page → Deployed indexes table → use the ID column (not display name; often auto-generated like endpoint_..._1234567890).
# VERTEX_INDEX_ENDPOINT_ID=projects/mobiusos-new/locations/us-central1/indexEndpoints/4513040034206580736
# VERTEX_DEPLOYED_INDEX_ID=endpoint_mobius_chat_publi_1769989702095

# -----------------------------------------------------------------------------
# mobius-os backend (use POSTGRES_*_LOCAL for local; *_CLOUD for Cloud SQL)
# -----------------------------------------------------------------------------
# DATABASE_MODE=local
# POSTGRES_HOST_LOCAL=localhost
# POSTGRES_PORT_LOCAL=5432
# POSTGRES_DB_LOCAL=mobius
# POSTGRES_USER_LOCAL=postgres
# POSTGRES_PASSWORD_LOCAL=
# GCP_CREDENTIALS_PATH=./gcp-credentials.json
# GCP_PROJECT_ID=
# FLASK_ENV=development
# SECRET_KEY=change-this

# -----------------------------------------------------------------------------
# mobius-rag
# -----------------------------------------------------------------------------
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/mobius_rag
# GCS_BUCKET=mobius-rag-uploads-mobiusos
# LLM_PROVIDER=vertex
VERTEX_PROJECT_ID=mobiusos-new
VERTEX_LOCATION=us-central1
VERTEX_MODEL=gemini-1.5-pro

# -----------------------------------------------------------------------------
# mobius-dbt (RAG read + Chat write + BQ + Vertex)
# -----------------------------------------------------------------------------
POSTGRES_HOST=34.59.175.121
POSTGRES_PORT=5432
POSTGRES_DB=mobius_rag
POSTGRES_USER=postgres
POSTGRES_PASSWORD=MobiusOS123$
BQ_PROJECT=mobiusos-new
BQ_DATASET=mobius_rag_dev
CHAT_DATABASE_URL=postgresql://postgres:MobiusOS123$@34.59.175.121:5432/mobius_chat
VERTEX_PROJECT=mobiusos-new
VERTEX_REGION=us-central1
VERTEX_INDEX_ID=2830628914034900992
# VERTEX_INDEX_ENDPOINT_ID=...
VERTEX_INDEX_MODE=streaming
GCS_BUCKET=mobiusos-new-vertex-index
GCS_PREFIX=chat_rag_index

# -----------------------------------------------------------------------------
# mobius-user (shared by mobius-os and mobius-chat for auth)
# -----------------------------------------------------------------------------
# PostgreSQL for user tables (tenant, app_user, auth, preferences)
USER_DATABASE_URL=postgresql://postgres:password@localhost:5432/mobius_user
# JWT secret — MUST match across all apps that share auth
JWT_SECRET=your-jwt-secret-key-change-in-production
# Optional: JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
# Optional: JWT_REFRESH_TOKEN_EXPIRE_DAYS=7 